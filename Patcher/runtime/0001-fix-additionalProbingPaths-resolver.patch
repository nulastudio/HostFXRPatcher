From 75dd3a272d33f990fff506f664756b2c4dca1ade Mon Sep 17 00:00:00 2001
From: =?utf-8?q?L!=CE=B5sA=CE=BC=CE=B5r?= <liesauer@liesauer.net>
Date: Sun, 15 Nov 2020 12:47:15 +0800
Subject: [PATCH] fix additionalProbingPaths resolver

---
 src/installer/corehost/cli/runtime_config.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/installer/corehost/cli/runtime_config.cpp b/src/installer/corehost/cli/runtime_config.cpp
index 2026da52d81..f86b15edfe4 100644
--- a/src/installer/corehost/cli/runtime_config.cpp
+++ b/src/installer/corehost/cli/runtime_config.cpp
@@ -114,7 +114,7 @@ bool runtime_config_t::parse_opts(const json_parser_t::value_t& opts)
     {
         if (probe_paths->value.IsString())
         {
-            m_probe_paths.insert(m_probe_paths.begin(), probe_paths->value.GetString());
+            m_probe_paths.insert(m_probe_paths.begin(), get_directory(m_path) + probe_paths->value.GetString());
         }
         else if (probe_paths->value.IsArray())
         {
@@ -124,7 +124,7 @@ bool runtime_config_t::parse_opts(const json_parser_t::value_t& opts)
 
             for (; begin != end; begin++)
             {
-                m_probe_paths.push_front(begin->GetString());
+                m_probe_paths.push_front(get_directory(m_path) + begin->GetString());
             }
         }
         else
-- 
2.19.1.windows.1

