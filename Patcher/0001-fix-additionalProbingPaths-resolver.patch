
From 37399c3c73d0e4b32344ef0ed8eed3382ccca845 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?L!=CE=B5sA=CE=BC=CE=B5r?= <liesauer@liesauer.net>
Date: Tue, 13 Aug 2019 16:55:17 +0800
Subject: [PATCH] fix additionalProbingPaths resolver

---
 src/corehost/cli/runtime_config.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/corehost/cli/runtime_config.cpp b/src/corehost/cli/runtime_config.cpp
index 684e412c..4480a8f6 100644
--- a/src/corehost/cli/runtime_config.cpp
+++ b/src/corehost/cli/runtime_config.cpp
@@ -97,14 +97,14 @@ bool runtime_config_t::parse_opts(const json_value& opts)
     {
         if (probe_paths->second.is_string())
         {
-            m_probe_paths.insert(m_probe_paths.begin(), probe_paths->second.as_string());
+            m_probe_paths.insert(m_probe_paths.begin(), get_directory(m_path).c_str() + probe_paths->second.as_string());
         }
         else
         {
             const auto& arr = probe_paths->second.as_array();
             for (auto iter = arr.rbegin(); iter != arr.rend(); iter++)
             {
-                m_probe_paths.push_front(iter->as_string());
+                m_probe_paths.push_front(get_directory(m_path).c_str() + iter->as_string());
             }
         }
     }
-- 
2.17.2 (Apple Git-113)


